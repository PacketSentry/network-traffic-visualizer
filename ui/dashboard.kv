#:import TrafficGraph ui.widgets.TrafficGraph
#:import AppDashboard ui.widgets.AppDashboard

BoxLayout:
    orientation: 'vertical'
    padding: 20
    spacing: 10

    # 1. Header with Title and Logs Button
    BoxLayout:
        size_hint_y: None
        height: 50
        
        Label:
            text: "NetSentry: Live Traffic Monitor"
            font_size: 24
            bold: True
            color: 0, 1, 0, 1
            halign: 'left'
            size_hint_x: 0.8
            text_size: self.size

        Button:
            text: "Logs"
            size_hint_x: 0.2
            on_release: app.open_db_view()

    # 2. The Main Graph
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.4
        
        TrafficGraph:
            id: main_graph
        
        # Legend
        BoxLayout:
            size_hint_y: None
            height: 30
            spacing: 20
            Label:
                text: "Download (Green)"
                color: 0, 1, 0, 1
                bold: True
            Label:
                text: "Upload (Blue)"
                color: 0, 0.5, 1, 1
                bold: True

    # 3. The App List
    AppDashboard:
        id: dashboard
        size_hint_y: 0.6